<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Image Carousel For RDJ</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <!-- Swiper JS -->
        <script src="../js/swiper.min.7.4.1.js"></script>
        <!-- Link Swiper's CSS -->
        <link rel="stylesheet" href="../css/swiper.7.4.1.css" />
        <!-- demo styles -->
        <link rel="stylesheet" href="../css/carousel.css" />
        <style>
        /*--------------------------------------------------------------------*\
        상품목록 캐로셀
        \*--------------------------------------------------------------------*/
        /* base swiper css */
        .swiper-area { position: relative; height: 100%; margin: 0; padding: 0; }
        .swiper-area .swiper { width: 100%; height: 100%; }
        .swiper-area .swiper-slide { display: block; width: 100%; color: #000;
            /* Center and scale the image nicely */
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /* swiper parallax-bg css */
        .swiper-area .parallax-bg { position: absolute; left: 0; top: 0; width: 130%; height: 100%; -webkit-background-size: cover; background-size: cover; background-position: center; }

        .swiper-area .swiper-slide img { width: 100%; height: 50%;}
        .swiper-area .swiper-slide .description { position: absolute; bottom: 0; left: 2%; text-align: left;}
        .swiper-area .swiper-slide .title { font-size: 41px; font-weight: 300; }
        .swiper-area .swiper-slide .subtitle { font-size: 21px; }
        .swiper-area .swiper-slide .text { font-size: 14px; max-width: 400px; line-height: 1.3; }

        .menuCategory img { width:60px; height: 60px; border-radius: 50%; -moz-border-radius: 50%; -khtml-border-radius: 50%; -webkit-border-radius: 50%;}
        .menuCategory a:hover img { border: 2px solid black; padding: 5%; }
        .menuCategory p { margin: 0; vertical-align: middle; position: relative; line-height: 3; }
        .menuCategory a:hover p { font-weight: bold; }
        </style>
    </head>
    <body>
        <div class="wrap">
            <!-- update carousel -->
             <div id="titleIMG" module="product_headcategory" cateno="{$param_2}" category1="{$name_1}" ctlevel="{$disp_cate_1}{$disp_cate_2}{$disp_cate_3}{$disp_cate_4}">
            {$title_image}
            </div>
            <!-- original version (before carousel) -->
            <!-- <div id="titleIMG" module="product_headcategory">
            {$title_image}
            </div> -->
            <!-- 하위 카테고리 부분 -->
            <!-- image subcategory (div tag) -->
            <div class="subcate" subcateno="{$param_cate_no}"> -->
            {$category_name}
            </div>
            <!-- ------>
    </body>
    <!-- Initialize Swiper -->
    <script>
    $(function() {
        let categoryMap = {
            "?cate_no=45":"ring",
            "?cate_no=44":"earing",
            "?cate_no=43":"bracelet",
            "?cate_no=42":"necklace"        
        }
        
        let subcategoryMap = {
            "cate_no=49":"eternity",
            "cate_no=50":"solitaire",
            "cate_no=68":"stud",
            "cate_no=69":"drop",
            "cate_no=73":"ring",
            "cate_no=96":"earcuff",
            "cate_no=92":"tennis",
            "cate_no=93":"link",
            "cate_no=47":"choker",
            "cate_no=79":"tennis-nk",
            "cate_no=48":"pendant",
        }
        
        if($("#titleIMG").attr("category1") == "SHOP" &&  $("#titleIMG").attr("ctlevel") == "11" ) {
            // carousel
            let htmlname = "carousel_"+ categoryMap[$("#titleIMG").attr("cateno")] + ".html";
            $("#titleIMG").load(htmlname);
            
            // sub category img
            
            $(".subcate").each(function(index, elem) {
                let subcatename = $(elem).text();
                let subcateno =  $(elem).attr("subcateno");
                
                // img url ex) /web/upload/category/shop/necklace/subcategory_eternity.jpg
                let src =  "/web/upload/category/shop/" + categoryMap[$("#titleIMG").attr("cateno")] + "/subcategory_" + subcategoryMap[subcateno] + ".jpg";

                let imgsubcate = "<img class='categoryImg' src='" + src + "' alt='' /><p>" + subcatename + "</p>";
                $(elem).html(imgsubcate);
                $(elem).parent("a").css("border","0");
            });
        }
    });
  </script>
</html>